import{_ as e,a as t,d as n,f as r,i,n as a,o,p as s,r as c,t as l,u}from"./index-CbmJG9vH.js";var d=e(s()),f=e(r());const p=({message:e,type:t=`success`,onClose:n,duration:r=u.DEFAULT})=>{let[i,a]=(0,d.useState)(!0),o=(0,d.useRef)(null),s=(0,d.useRef)(null);(0,d.useEffect)(()=>{if(r>0&&i)return s.current=setTimeout(()=>{a(!1),o.current=setTimeout(()=>{n?.()},300)},r),()=>{s.current&&=(clearTimeout(s.current),null),o.current&&=(clearTimeout(o.current),null)}},[r,n,i]);let c=()=>{a(!1),s.current&&=(clearTimeout(s.current),null),o.current&&=(clearTimeout(o.current),null),o.current=setTimeout(()=>{n?.(),o.current=null},300)};return i?(0,f.jsxs)(`div`,{className:`${t===`error`?`bg-red-500/90`:t===`warning`?`bg-yellow-500/90`:`bg-[#3be8b0]/90`} text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-4 animate-fadeIn min-w-[300px] w-full`,role:`alert`,"aria-live":t===`error`?`assertive`:`polite`,children:[(0,f.jsx)(`span`,{className:`flex-1`,children:e}),(0,f.jsx)(`button`,{onClick:c,className:`text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white/50 rounded`,"aria-label":`Close notification`,children:(0,f.jsx)(`svg`,{className:`w-5 h-5`,fill:`currentColor`,viewBox:`0 0 20 20`,children:(0,f.jsx)(`path`,{fillRule:`evenodd`,d:`M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z`,clipRule:`evenodd`})})})]}):null},m=({toasts:e,removeToast:t})=>!e||e.length===0?null:(0,f.jsx)(`div`,{className:`fixed top-20 right-4 z-50 space-y-2 max-w-md`,"aria-live":`polite`,"aria-atomic":`true`,role:`region`,"aria-label":`Notifications`,children:e.map(e=>(0,f.jsx)(p,{message:e.message,type:e.type,onClose:()=>t(e.id),duration:e.duration},e.id))});var h={NAME_MAX:100,EMAIL_MAX:254,MESSAGE_MAX:1e4},g=5e3,_=e=>{let t={};return e?.name&&typeof e.name==`string`&&e.name.length>h.NAME_MAX&&(t.name=`Name must be ${h.NAME_MAX} characters or less for email service`),e?.email&&typeof e.email==`string`&&e.email.length>h.EMAIL_MAX&&(t.email=`Email must be ${h.EMAIL_MAX} characters or less`),e?.message&&typeof e.message==`string`&&e.message.length>h.MESSAGE_MAX&&(t.message=`Message must be ${h.MESSAGE_MAX} characters or less for email service`),t},v=async()=>{try{let e=await l(()=>import(`./es-CnrvZ40M.js`),[]);if(!e?.send)throw Error(`EmailJS module loaded but send function is not available`);return e}catch(e){let t=e.message||``;throw t.includes(`Failed to fetch dynamically imported module`)||t.includes(`Cannot find module`)||t.includes(`Failed to resolve module`)?Error(`EmailJS package not found. Please run: npm install @emailjs/browser`):e instanceof TypeError&&t.includes(`fetch`)?Error(`Network error while loading EmailJS. Please check your connection and try again.`):Error(`Failed to load EmailJS: ${t||`Unknown error`}`)}},y=async(e,t)=>{let n=await v();if(!t?.serviceId||!t?.templateId||!t?.publicKey)throw Error(`EmailJS configuration is incomplete`);let r=await n.send(t.serviceId,t.templateId,{from_name:String(e.name||``).substring(0,h.NAME_MAX),from_email:String(e.email||``).substring(0,h.EMAIL_MAX),message:String(e.message||``).substring(0,h.MESSAGE_MAX),to_name:`Vaibhav Sharma`.substring(0,h.NAME_MAX)},t.publicKey);if(r.status!==200&&r.text!==`OK`)throw Error(`EmailJS returned error: ${r.text||`Unknown error`}`)},b=()=>{try{let e=localStorage.getItem(`contactFormData`);return e?JSON.parse(e):{name:``,email:``,message:``}}catch(e){return a(e,`Failed to load form data from localStorage`),{name:``,email:``,message:``}}},x=e=>{try{localStorage.setItem(`contactFormData`,JSON.stringify(e))}catch(e){a(e,`Failed to save form data to localStorage`)}},S=()=>{try{localStorage.removeItem(`contactFormData`)}catch(e){a(e,`Failed to clear form data from localStorage`)}},C=e=>{let r={};e.name.trim()?o(e.name)||(r.name=`Name must be between ${n.NAME_MIN} and ${n.NAME_MAX} characters`):r.name=`Name is required`,e.email.trim()?i(e.email)||(r.email=`Please enter a valid email address`):r.email=`Email is required`,e.message.trim()?t(e.message)||(r.message=`Message must be between ${n.MESSAGE_MIN} and ${n.MESSAGE_MAX} characters`):r.message=`Message is required`;{let t=_(e);Object.assign(r,t)}return r},w=()=>{let[e,t]=(0,d.useState)(()=>b()),[r,i]=(0,d.useState)({}),[o,s]=(0,d.useState)(!1),[l,p]=(0,d.useState)(!1),[h,_]=(0,d.useState)([]),v=(0,d.useRef)(null),w=(0,d.useRef)(null),T=(0,d.useRef)(null),E=(0,d.useRef)(0),D={name:v,email:w,message:T};(0,d.useEffect)(()=>{(e.name||e.email||e.message)&&x(e)},[e]);let O=(e,t=`success`,n=u.DEFAULT)=>{let r=Date.now()+Math.random();_(i=>[...i,{id:r,message:e,type:t,duration:n}])},k=e=>{_(t=>t.filter(t=>t.id!==e))},A=(0,d.useCallback)(e=>{let{name:n,value:r}=e.target,a=c(r);t(e=>({...e,[n]:a})),i(e=>{if(e[n]){let t={...e};return delete t[n],t}return e})},[]),j=e=>{requestAnimationFrame(()=>{let t=e[0],n=D[t]?.current;n&&(n.focus(),n.scrollIntoView({behavior:`smooth`,block:`center`}))})};return(0,f.jsxs)(`div`,{className:`min-h-screen py-20`,children:[(0,f.jsx)(m,{toasts:h,removeToast:k}),(0,f.jsx)(`h2`,{className:`text-5xl md:text-6xl font-bold mb-12 text-center pt-4`,children:(0,f.jsx)(`span`,{className:`bg-gradient-to-r from-[#3be8b0] via-[#a5a6f6] to-[#232946] bg-clip-text text-transparent`,children:`Get In Touch`})}),(0,f.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault();let r=Date.now();if(r-E.current<g){let e=Math.ceil((g-(r-E.current))/1e3);O(`Please wait ${e} second${e===1?``:`s`} before submitting again.`,`error`,u.SHORT);return}let o=C(e);if(Object.keys(o).length>0){i(o),j(Object.keys(o));return}i({}),s(!0),E.current=r;let l={name:c(e.name),email:c(e.email),message:c(e.message)};try{p(!0);try{await y(l,{serviceId:`service_gd1zwc6`,templateId:`template_2nprtq6`,publicKey:`DAaCjX-nAIZ2pygpd`}),O(`Message sent successfully!`,`success`),S()}catch(e){throw a(e,`EmailJS submission failed`),e}finally{p(!1)}t({name:``,email:``,message:``}),i({})}catch(e){a(e,`Contact form submission`),e instanceof TypeError&&e.message.includes(`fetch`)?O(`Network error. Please check your connection and try again.`,`error`):O(e.message||`Failed to send message. Please try again.`,`error`)}finally{s(!1)}},className:`max-w-sm mx-auto space-y-4`,noValidate:!0,"aria-label":`Contact form`,"aria-live":`polite`,children:[(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`label`,{htmlFor:`name`,className:`sr-only`,children:`Your Name`}),(0,f.jsx)(`input`,{ref:v,type:`text`,id:`name`,name:`name`,placeholder:`Your Name`,value:e.name,onChange:A,required:!0,"aria-required":`true`,"aria-invalid":!!r.name,"aria-describedby":r.name?`name-error`:void 0,className:`w-full px-3 py-2 bg-white/5 backdrop-blur-xl border rounded-lg focus:outline-none focus:border-[#3be8b0]/50 focus:bg-white/10 transition-all duration-300 text-[#e9e9f0] placeholder-[#a5a6f6] text-base ${r.name?`border-red-500/50`:`border-white/10`}`}),r.name&&(0,f.jsx)(`p`,{id:`name-error`,className:`mt-1 text-sm text-red-400`,role:`alert`,children:r.name})]}),(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`label`,{htmlFor:`email`,className:`sr-only`,children:`Your Email`}),(0,f.jsx)(`input`,{ref:w,type:`email`,id:`email`,name:`email`,placeholder:`Your Email`,value:e.email,onChange:A,required:!0,"aria-required":`true`,"aria-invalid":!!r.email,"aria-describedby":r.email?`email-error`:void 0,className:`w-full px-3 py-2 bg-white/5 backdrop-blur-xl border rounded-lg focus:outline-none focus:border-[#3be8b0]/50 focus:bg-white/10 transition-all duration-300 text-[#e9e9f0] placeholder-[#a5a6f6] text-base ${r.email?`border-red-500/50`:`border-white/10`}`}),r.email&&(0,f.jsx)(`p`,{id:`email-error`,className:`mt-1 text-sm text-red-400`,role:`alert`,children:r.email})]}),(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`label`,{htmlFor:`message`,className:`sr-only`,children:`Your Message`}),(0,f.jsx)(`textarea`,{ref:T,id:`message`,name:`message`,placeholder:`Your Message`,value:e.message,onChange:A,rows:`4`,required:!0,"aria-required":`true`,"aria-invalid":!!r.message,"aria-describedby":r.message?`message-error message-counter`:`message-counter`,maxLength:n.MESSAGE_MAX,className:`w-full px-3 py-2 bg-white/5 backdrop-blur-xl border rounded-lg focus:outline-none focus:border-[#3be8b0]/50 focus:bg-white/10 transition-all duration-300 text-[#e9e9f0] placeholder-[#a5a6f6] resize-none text-base ${r.message?`border-red-500/50`:`border-white/10`}`}),(0,f.jsxs)(`div`,{className:`flex justify-between items-center mt-1`,children:[r.message&&(0,f.jsx)(`p`,{id:`message-error`,className:`text-sm text-red-400`,role:`alert`,children:r.message}),(0,f.jsxs)(`p`,{id:`message-counter`,className:`text-xs ml-auto ${e.message.length>n.MESSAGE_MAX*.9?`text-yellow-400`:`text-gray-400`}`,"aria-live":`polite`,children:[e.message.length,` / `,n.MESSAGE_MAX,` characters`]})]})]}),(0,f.jsxs)(`button`,{type:`submit`,disabled:o||l,"aria-busy":o||l,"aria-disabled":o||l,className:`w-full px-6 py-3 bg-gradient-to-r from-[#3be8b0] via-[#a5a6f6] to-[#3be8b0] backdrop-blur-xl rounded-lg font-semibold text-white transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-[#3be8b0]/50 border border-white/20 relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-none focus:outline-none focus:ring-2 focus:ring-[#3be8b0] focus:ring-offset-2 focus:ring-offset-transparent`,children:[(0,f.jsx)(`span`,{className:`relative z-10`,children:l?`Loading email service...`:o?`Sending...`:`Send Message`}),(0,f.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-[#3be8b0]/30 via-[#a5a6f6]/30 to-[#3be8b0]/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300`})]})]})]})};export{w as default};